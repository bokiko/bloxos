# ===========================================
# BloxOs Environment Configuration
# ===========================================
# Copy this file to .env and update values
# IMPORTANT: In production, all "REQUIRED IN PRODUCTION" variables MUST be set

# ===========================================
# Database (PostgreSQL)
# ===========================================
# Port 5433 to avoid conflicts with local PostgreSQL
POSTGRES_USER=bloxos
POSTGRES_PASSWORD=change-this-secure-password    # REQUIRED: Change in production!
POSTGRES_DB=bloxos
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5433/${POSTGRES_DB}

# ===========================================
# Redis Cache
# ===========================================
# Port 6380 to avoid conflicts with local Redis
REDIS_URL=redis://localhost:6380

# ===========================================
# API Server
# ===========================================
API_PORT=3001
API_HOST=0.0.0.0

# ===========================================
# Security - REQUIRED IN PRODUCTION
# ===========================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change-this-to-a-64-char-minimum-secure-random-string

# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=change-this-to-a-32-byte-hex-key-for-encryption

# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
COOKIE_SECRET=change-this-to-a-secure-cookie-secret

# API key salt for hashing
API_KEY_SALT=change-this-to-another-secure-string

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated list of allowed origins (no spaces)
# Example: https://dashboard.example.com,https://admin.example.com
CORS_ORIGINS=http://localhost:3000

# ===========================================
# Dashboard
# ===========================================
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3001

# ===========================================
# Agent Configuration (set on mining rigs)
# ===========================================
# BLOXOS_SERVER_URL=ws://your-server-ip:3001
# BLOXOS_RIG_TOKEN=generate-unique-token-per-rig

# ===========================================
# Notifications (optional)
# ===========================================
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
DISCORD_WEBHOOK_URL=

# ===========================================
# Environment
# ===========================================
# Options: development, production, test
NODE_ENV=development

# ===========================================
# Rate Limiting (optional, defaults shown)
# ===========================================
# RATE_LIMIT_MAX=100           # Max requests per window
# RATE_LIMIT_WINDOW_MS=60000   # Window in milliseconds (1 minute)

# ===========================================
# Session Configuration (optional)
# ===========================================
# JWT_EXPIRY=4h                # Access token expiry
# REFRESH_TOKEN_EXPIRY=7d      # Refresh token expiry
